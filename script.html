<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BYTROX SCRIPT</title>
  <style>
    @font-face {font-family: "CustomBold";src: url("bold.ttf") format("truetype");font-weight: 900;}
    body, html {height: 100%;margin: 0;display: flex;flex-direction: column;justify-content: space-between;align-items: center;font-family: "CustomBold", Arial, sans-serif;background: #fff;color: #000;}

    #fadeOverlay {
      position: fixed;top: 0;left: 0;width: 100%;height: 100%;
      background: #000;z-index: 999999;pointer-events: none;
      opacity: 1;transition: opacity 3s ease;
    }
    .fade-out {opacity: 0;visibility: hidden;}

    .top-bar-bg {width: 100%;height: 75px;background: red;box-shadow: 0 0 10px #FF3B3B, 0 0 20px #FF3B3B;position: fixed;top: 0;left: 0;z-index: 1;}
    .bottom-bar-bg {width: 100%;height: 75px;background: white;box-shadow: 0 -0.1px 5px grey;position: fixed;bottom: 0;left: 0;z-index: 1;}
    .top-bar {width: 100%;height: 75px;display: flex;justify-content: center;align-items: center;font-size: 2em;color: white;position: fixed;top: 0;left: 0;z-index: 2;}
    .bottom-bar {width: 100%;height: 75px;position: fixed;bottom: 0;left: 0;z-index: 2;display: flex;justify-content: center;align-items: center;}
    #time {font-size: 1.4em;position: absolute;left: 50%;transform: translateX(-50%);color: black;}
    #menuIcon {position: absolute;left: 25px;}
    #tgImg {position: absolute;right: 29px;}
    .circle-icon {width: 40px;height: 40px;border-radius: 50%;cursor: pointer;object-fit: cover;}
    .avi-img {width: 200px;height: auto;margin-top: 10px;margin-bottom: 360px;position: relative;z-index: 2;transition: all 0.3s ease;}
    .orbit-container {position: relative;width: 200px;height: 200px;display: flex;justify-content: center;align-items: center;margin-top: 310px;transition: margin-top 0.3s ease;}
    #crashValue {position: absolute;font-size: 1.8em;color: red;text-align: center;transition: all 0.3s ease;}
    canvas {position: absolute;width: 100%;height: 100%;}
    #signalStatus {position: absolute;bottom: 130px;left: 50%;transform: translateX(-50%);background: red;box-shadow: 0 0 10px #FF3B3B, 0 0 20px #FF3B3B;color: white;font-size: 18px;padding: 14px 10px;min-width: 120px;border-radius: 10px;text-align: center;z-index: 9999;display: flex;justify-content: center;align-items: center;}
    #animatedText,#time,#crashValue,#signalStatus,button,span,div {font-family: "CustomBold", Arial, sans-serif;font-weight: 900;}
  </style>
</head>
<body>

<div id="fadeOverlay"></div>

<div class="top-bar-bg"></div>
<div class="bottom-bar-bg"></div>
<div class="top-bar"><span id="animatedText"> ô è·¥õ Ä·¥èx ·¥ò Ä·¥á·¥Ö…™·¥Ñ·¥õ·¥è Ä</span></div>
<div id="signalStatus">SIGNAL OFF</div>
<div class="orbit-container" id="orbitContainer">
  <img src="https://i.ibb.co/nKcdrws/Picsart-25-09-29-21-49-18-512.png" class="avi-img" id="aviImg">
  <canvas id="orbitCanvas"></canvas>
  <div id="crashValue">0.00</div>
</div>
<div class="bottom-bar">
  <img id="menuIcon" class="circle-icon" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTOtoqIx6AHqolyva6GK4h7R12WOcTIwXStqrv6CQBKKA&s=10" alt="Menu">
  <div id="time">00:00 AM</div>
  <img id="tgImg" class="circle-icon" src="https://i.ibb.co/Q7WqGVGX/Picsart-25-09-29-21-44-26-432.jpg" alt="Telegram">
</div>

<script>
window.onload = () => {document.getElementById("fadeOverlay").classList.add("fade-out");};
const texts = [
      " ô è·¥õ Ä·¥èx ·¥ò Ä·¥á·¥Ö…™·¥Ñ·¥õ·¥è Ä",
      "https://·¥õ.·¥ç·¥á/ ô è·¥õ Ä·¥èx_…¥·¥è·¥†·¥Ä",
      "·¥Ñ·¥è…¥·¥õ Ä·¥Ä·¥Ñ·¥õ @ ô è·¥õ Ä·¥èx_1"
    ];
    let currentIndex = 0;
    const animatedText = document.getElementById("animatedText");
    function showNextText() {
      animatedText.style.transition = "opacity 1s";
      animatedText.style.opacity = 0;
      setTimeout(() => {
        currentIndex = (currentIndex + 1) % texts.length;
        animatedText.innerText = texts[currentIndex];
        animatedText.style.opacity = 1;
        setTimeout(showNextText, 2000);
      }, 1000);
    }
    setTimeout(showNextText, 2000);

    let crashElement = document.getElementById("crashValue");
    let signalStatus = document.getElementById("signalStatus");
    let socket = null;

    function setSignal(active) {
      if (active) {
        signalStatus.innerHTML = 'SIGNAL ON <img src="https://i.ibb.co/CKtzJjD0/Picsart-25-09-29-22-38-29-665-removebg-preview.png" style="width:27px;height:27px;margin-left:5px;vertical-align:middle;">';
      } else {
        signalStatus.innerText = "SIGNAL OFF";
      }
    }

    function connectWebSocket() {
      socket = new WebSocket("wss://1x-bet.mobi/games-frame/sockets/crash?ref=1&gr=54&whence=110&fcountry=192&appGuid=games-web-app-default-web-v2&lng=ar");
      socket.onopen = function () {
        setSignal(true);
        socket.send('{"protocol":"json","version":1}\x1e');
        socket.send('{"arguments":[{"activity":30,"currency":119}],"invocationId":"0","target":"Guest","type":1}\x1e');
      };
      socket.onmessage = function (event) {
        try {
          let data = event.data.slice(0, -1);
          let json = JSON.parse(data);
          if (json.target === "OnCrash") {
            crashElement.innerText = json.arguments[0].f;
          }
        } catch {}
      };
      socket.onclose = function () {
        setSignal(false);
        setTimeout(connectWebSocket, 3000);
      };
      socket.onerror = function () {
        setSignal(false);
      };
    }
    connectWebSocket();

    const canvas = document.getElementById("orbitCanvas");
    const ctx = canvas.getContext("2d");
    let w, h;
    function resizeCanvas() {
      w = canvas.width = canvas.offsetWidth;
      h = canvas.height = canvas.offsetHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    let animFrac = 0;
    const strokeColor = "red";
    const planeCountOuter = 3, planeCountInner = 3;
    const planeImg = new Image();
    planeImg.src = "https://i.postimg.cc/Mpd6FGnT/plane.png";

    function drawPlane(x, y, angle, scale) {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(angle + Math.PI / 0.09);
      ctx.scale(scale, scale);
      ctx.drawImage(planeImg, -42, -23, 100, 100);
      ctx.restore();
    }

    function drawOrbit(radius, count, cw) {
      ctx.beginPath();
      ctx.arc(w / 2, h / 2, radius, 0, Math.PI * 2);
      ctx.stroke();
      for (let i = 0; i < count; i++) {
        let base = i / count;
        let frac = cw ? (base + animFrac) : (base - animFrac);
        frac -= Math.floor(frac);
        let angle = frac * Math.PI * 2;
        let x = w / 2 + Math.cos(angle) * radius;
        let y = h / 2 + Math.sin(angle) * radius;
        drawPlane(x, y, angle, Math.min(w, h) / 500);
      }
    }

    function draw() {
      ctx.clearRect(0, 0, w, h);
      ctx.strokeStyle = strokeColor;
      ctx.lineWidth = Math.max(2, Math.min(w, h) * 0.01);
      ctx.setLineDash([2, 3]);
      ctx.lineDashOffset = animFrac * 100;
      let rOuter = Math.min(w, h) * 0.42;
      let rInner = Math.min(w, h) * 0.28;
      drawOrbit(rOuter, planeCountOuter, false);
      drawOrbit(rInner, planeCountInner, true);
      animFrac += 0.0030;
      requestAnimationFrame(draw);
    }
    draw();

    function adjustOrbitPosition() {
  const container = document.getElementById("orbitContainer");
  const aviImg = document.getElementById("aviImg");
  const signalStatus = document.getElementById("signalStatus");
  const screenHeight = window.innerHeight;

  // Orbit va aviImg joylashuvi o‚Äòzgarmaydi
  if (screenHeight < 700) {
    container.style.marginTop = "200px";
    aviImg.style.marginBottom = "300px";
  } else {
    container.style.marginTop = "310px";
    aviImg.style.marginBottom = "360px";
  }

  // üîΩ SignalStatus ekranga qarab dinamik pastga tushadi
  if (signalStatus) {
    if (screenHeight < 600) {
      signalStatus.style.marginTop = "350px";
    } else if (screenHeight < 800) {
      signalStatus.style.marginTop = "420px";
    } else if (screenHeight < 1000) {
      signalStatus.style.marginTop = "500px";
    } else {
      signalStatus.style.marginTop = "600px"; // katta ekranlarda yanada pastda
    }
  }
}

// oyna o'lchami o'zgarsa ham ishlaydi
window.addEventListener("resize", adjustOrbitPosition);

// sahifa yuklanganda ishga tushadi
adjustOrbitPosition();

    function updateTime() {
      let now = new Date();
      let hours = now.getHours();
      let minutes = now.getMinutes();
      let ampm = hours >= 12 ? "PM" : "AM";
      hours = hours % 12;
      hours = hours ? hours : 12;
      document.getElementById("time").innerText =
        String(hours).padStart(2,"0")+":"+
        String(minutes).padStart(2,"0")+" "+ampm;
    }
    setInterval(updateTime, 1000);
    updateTime();

    document.getElementById("tgImg").onclick = function() {
      window.open("https://t.me/bytrox_1", "_blank");
    };
    document.getElementById("menuIcon").onclick = function() {
      window.location.href = "https://gjghghxopcspusojgjkug.vercel.app/index.html";
    };
  </script>

</body>
</html>
